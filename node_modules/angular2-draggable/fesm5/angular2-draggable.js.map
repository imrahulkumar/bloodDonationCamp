{"version":3,"file":"angular2-draggable.js.map","sources":["ng://angular2-draggable/lib/models/position.ts","ng://angular2-draggable/lib/widgets/helper-block.ts","ng://angular2-draggable/lib/angular-draggable.directive.ts","ng://angular2-draggable/lib/widgets/resize-handle.ts","ng://angular2-draggable/lib/models/size.ts","ng://angular2-draggable/lib/angular-resizable.directive.ts","ng://angular2-draggable/lib/angular-draggable.module.ts"],"sourcesContent":["export interface IPosition {\r\n  x: number;\r\n  y: number;\r\n}\r\n\r\nexport class Position implements IPosition {\r\n  constructor(public x: number, public y: number) { }\r\n\r\n  static fromEvent(e: MouseEvent | TouchEvent) {\r\n    if (e instanceof MouseEvent) {\r\n      return new Position(e.clientX, e.clientY);\r\n    } else {\r\n      return new Position(e.changedTouches[0].clientX, e.changedTouches[0].clientY);\r\n    }\r\n  }\r\n\r\n  static isIPosition(obj): obj is IPosition {\r\n    return !!obj && ('x' in obj) && ('y' in obj);\r\n  }\r\n\r\n  static getCurrent(el: Element) {\r\n    let pos = new Position(0, 0);\r\n\r\n    if (window) {\r\n      const computed = window.getComputedStyle(el);\r\n      if (computed) {\r\n        pos.x = parseInt(computed.getPropertyValue('left'), 10);\r\n        pos.y = parseInt(computed.getPropertyValue('top'), 10);\r\n      }\r\n      return pos;\r\n    } else {\r\n      console.error('Not Supported!');\r\n      return null;\r\n    }\r\n  }\r\n\r\n  static copy(p: Position) {\r\n    return new Position(0, 0).set(p);\r\n  }\r\n\r\n  add(p: IPosition) {\r\n    this.x += p.x;\r\n    this.y += p.y;\r\n    return this;\r\n  }\r\n\r\n  subtract(p: IPosition) {\r\n    this.x -= p.x;\r\n    this.y -= p.y;\r\n    return this;\r\n  }\r\n\r\n  reset() {\r\n    this.x = 0;\r\n    this.y = 0;\r\n    return this;\r\n  }\r\n\r\n  set(p: IPosition) {\r\n    this.x = p.x;\r\n    this.y = p.y;\r\n    return this;\r\n  }\r\n}\r\n","import { Renderer2 } from '@angular/core';\r\n\r\nexport class HelperBlock {\r\n  protected _helper: Element;\r\n  private _added = false;\r\n\r\n  constructor(\r\n    protected parent: Element,\r\n    protected renderer: Renderer2\r\n  ) {\r\n    // generate helper div\r\n    let helper = renderer.createElement('div');\r\n    renderer.setStyle(helper, 'position', 'absolute');\r\n    renderer.setStyle(helper, 'width', '100%');\r\n    renderer.setStyle(helper, 'height', '100%');\r\n    renderer.setStyle(helper, 'background-color', 'transparent');\r\n    renderer.setStyle(helper, 'top', '0');\r\n    renderer.setStyle(helper, 'left', '0');\r\n\r\n    // done\r\n    this._helper = helper;\r\n  }\r\n\r\n  add() {\r\n    // append div to parent\r\n    if (this.parent && !this._added) {\r\n      this.parent.appendChild(this._helper);\r\n      this._added = true;\r\n    }\r\n  }\r\n\r\n  remove() {\r\n    if (this.parent && this._added) {\r\n      this.parent.removeChild(this._helper);\r\n      this._added = false;\r\n    }\r\n  }\r\n\r\n  dispose() {\r\n    this._helper = null;\r\n    this._added = false;\r\n  }\r\n\r\n  get el() {\r\n    return this._helper;\r\n  }\r\n}\r\n","import {\r\n  Directive, ElementRef, Renderer2,\r\n  Input, Output, OnInit, HostListener,\r\n  EventEmitter, OnChanges, SimpleChanges, OnDestroy, AfterViewInit\r\n} from '@angular/core';\r\n\r\nimport { IPosition, Position } from './models/position';\r\nimport { HelperBlock } from './widgets/helper-block';\r\n\r\n@Directive({\r\n  selector: '[ngDraggable]',\r\n  exportAs: 'ngDraggable'\r\n})\r\nexport class AngularDraggableDirective implements OnInit, OnDestroy, OnChanges, AfterViewInit {\r\n  private allowDrag = true;\r\n  private moving = false;\r\n  private orignal: Position = null;\r\n  private oldTrans = new Position(0, 0);\r\n  private tempTrans = new Position(0, 0);\r\n  private oldZIndex = '';\r\n  private _zIndex = '';\r\n  private needTransform = false;\r\n\r\n  /**\r\n   * Bugfix: iFrames, and context unrelated elements block all events, and are unusable\r\n   * https://github.com/xieziyu/angular2-draggable/issues/84\r\n   */\r\n  private _helperBlock: HelperBlock = null;\r\n\r\n  @Output() started = new EventEmitter<any>();\r\n  @Output() stopped = new EventEmitter<any>();\r\n  @Output() edge = new EventEmitter<any>();\r\n\r\n  /** Make the handle HTMLElement draggable */\r\n  @Input() handle: HTMLElement;\r\n\r\n  /** Set the bounds HTMLElement */\r\n  @Input() bounds: HTMLElement;\r\n\r\n  /** List of allowed out of bounds edges **/\r\n  @Input() outOfBounds = {\r\n    top: false,\r\n    right: false,\r\n    bottom: false,\r\n    left: false\r\n  };\r\n\r\n  /** Round the position to nearest grid */\r\n  @Input() gridSize = 1;\r\n\r\n  /** Set z-index when dragging */\r\n  @Input() zIndexMoving: string;\r\n\r\n  /** Set z-index when not dragging */\r\n  @Input() set zIndex(setting: string) {\r\n    this.renderer.setStyle(this.el.nativeElement, 'z-index', setting);\r\n    this._zIndex = setting;\r\n  }\r\n  /** Whether to limit the element stay in the bounds */\r\n  @Input() inBounds = false;\r\n\r\n  /** Whether the element should use it's previous drag position on a new drag event. */\r\n  @Input() trackPosition = true;\r\n\r\n  /** Input css scale transform of element so translations are correct */\r\n  @Input() scale = 1;\r\n\r\n  /** Whether to prevent default event */\r\n  @Input() preventDefaultEvent = false;\r\n\r\n  /** Set initial position by offsets */\r\n  @Input() position: IPosition = { x: 0, y: 0 };\r\n\r\n  /** Emit position offsets when moving */\r\n  @Output() movingOffset = new EventEmitter<IPosition>();\r\n\r\n  /** Emit position offsets when put back */\r\n  @Output() endOffset = new EventEmitter<IPosition>();\r\n\r\n  @Input()\r\n  set ngDraggable(setting: any) {\r\n    if (setting !== undefined && setting !== null && setting !== '') {\r\n      this.allowDrag = !!setting;\r\n\r\n      let element = this.handle ? this.handle : this.el.nativeElement;\r\n\r\n      if (this.allowDrag) {\r\n        this.renderer.addClass(element, 'ng-draggable');\r\n      } else {\r\n        this.renderer.removeClass(element, 'ng-draggable');\r\n      }\r\n    }\r\n  }\r\n\r\n  constructor(private el: ElementRef, private renderer: Renderer2) {\r\n    this._helperBlock = new HelperBlock(el.nativeElement, renderer);\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.allowDrag) {\r\n      let element = this.handle ? this.handle : this.el.nativeElement;\r\n      this.renderer.addClass(element, 'ng-draggable');\r\n    }\r\n\r\n    this.resetPosition();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.bounds = null;\r\n    this.handle = null;\r\n    this.orignal = null;\r\n    this.oldTrans = null;\r\n    this.tempTrans = null;\r\n    this._helperBlock.dispose();\r\n    this._helperBlock = null;\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes['position'] && !changes['position'].isFirstChange()) {\r\n      let p = changes['position'].currentValue;\r\n\r\n      if (!this.moving) {\r\n        if (Position.isIPosition(p)) {\r\n          this.oldTrans.set(p);\r\n        } else {\r\n          this.oldTrans.reset();\r\n        }\r\n\r\n        this.transform();\r\n      } else {\r\n        this.needTransform = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    if (this.inBounds) {\r\n      this.boundsCheck();\r\n      this.oldTrans.add(this.tempTrans);\r\n      this.tempTrans.reset();\r\n    }\r\n  }\r\n\r\n  resetPosition() {\r\n    if (Position.isIPosition(this.position)) {\r\n      this.oldTrans.set(this.position);\r\n    } else {\r\n      this.oldTrans.reset();\r\n    }\r\n    this.tempTrans.reset();\r\n    this.transform();\r\n  }\r\n\r\n  private moveTo(p: Position) {\r\n    if (this.orignal) {\r\n      p.subtract(this.orignal);\r\n      this.tempTrans.set(p);\r\n      this.transform();\r\n\r\n      if (this.bounds) {\r\n        this.edge.emit(this.boundsCheck());\r\n      }\r\n\r\n      this.movingOffset.emit({\r\n        x: this.tempTrans.x + this.oldTrans.x,\r\n        y: this.tempTrans.y + this.oldTrans.y\r\n      });\r\n    }\r\n  }\r\n\r\n  private transform() {\r\n\r\n    let translateX = this.tempTrans.x + this.oldTrans.x;\r\n    let translateY = this.tempTrans.y + this.oldTrans.y;\r\n\r\n    // Snap to grid: by grid size\r\n    if (this.gridSize > 1) {\r\n      translateX = Math.round(translateX / this.gridSize) * this.gridSize;\r\n      translateY = Math.round(translateY / this.gridSize) * this.gridSize;\r\n    }\r\n\r\n    let value = `translate(${translateX}px, ${translateY}px)`;\r\n\r\n    if (this.scale !== 1) {\r\n      value += ` scale(${this.scale})`;\r\n    }\r\n\r\n    this.renderer.setStyle(this.el.nativeElement, 'transform', value);\r\n    this.renderer.setStyle(this.el.nativeElement, '-webkit-transform', value);\r\n    this.renderer.setStyle(this.el.nativeElement, '-ms-transform', value);\r\n    this.renderer.setStyle(this.el.nativeElement, '-moz-transform', value);\r\n    this.renderer.setStyle(this.el.nativeElement, '-o-transform', value);\r\n  }\r\n\r\n  private pickUp() {\r\n    // get old z-index:\r\n    this.oldZIndex = this.el.nativeElement.style.zIndex ? this.el.nativeElement.style.zIndex : '';\r\n\r\n    if (window) {\r\n      this.oldZIndex = window.getComputedStyle(this.el.nativeElement, null).getPropertyValue('z-index');\r\n    }\r\n\r\n    if (this.zIndexMoving) {\r\n      this.renderer.setStyle(this.el.nativeElement, 'z-index', this.zIndexMoving);\r\n    }\r\n\r\n    if (!this.moving) {\r\n      this.started.emit(this.el.nativeElement);\r\n      this.moving = true;\r\n    }\r\n  }\r\n\r\n  boundsCheck() {\r\n    if (this.bounds) {\r\n      let boundary = this.bounds.getBoundingClientRect();\r\n      let elem = this.el.nativeElement.getBoundingClientRect();\r\n      let result = {\r\n        'top': this.outOfBounds.top ? true : boundary.top < elem.top,\r\n        'right': this.outOfBounds.right ? true : boundary.right > elem.right,\r\n        'bottom': this.outOfBounds.bottom ? true : boundary.bottom > elem.bottom,\r\n        'left': this.outOfBounds.left ? true : boundary.left < elem.left\r\n      };\r\n\r\n      if (this.inBounds) {\r\n        if (!result.top) {\r\n          this.tempTrans.y -= elem.top - boundary.top;\r\n        }\r\n\r\n        if (!result.bottom) {\r\n          this.tempTrans.y -= elem.bottom - boundary.bottom;\r\n        }\r\n\r\n        if (!result.right) {\r\n          this.tempTrans.x -= elem.right - boundary.right;\r\n        }\r\n\r\n        if (!result.left) {\r\n          this.tempTrans.x -= elem.left - boundary.left;\r\n        }\r\n\r\n        this.transform();\r\n      }\r\n\r\n      return result;\r\n    }\r\n  }\r\n\r\n  private putBack() {\r\n    if (this._zIndex) {\r\n      this.renderer.setStyle(this.el.nativeElement, 'z-index', this._zIndex);\r\n    } else if (this.zIndexMoving) {\r\n      if (this.oldZIndex) {\r\n        this.renderer.setStyle(this.el.nativeElement, 'z-index', this.oldZIndex);\r\n      } else {\r\n        this.el.nativeElement.style.removeProperty('z-index');\r\n      }\r\n    }\r\n\r\n    if (this.moving) {\r\n      this.stopped.emit(this.el.nativeElement);\r\n\r\n      // Remove the helper div:\r\n      this._helperBlock.remove();\r\n\r\n      if (this.needTransform) {\r\n        if (Position.isIPosition(this.position)) {\r\n          this.oldTrans.set(this.position);\r\n        } else {\r\n          this.oldTrans.reset();\r\n        }\r\n\r\n        this.transform();\r\n        this.needTransform = false;\r\n      }\r\n\r\n      if (this.bounds) {\r\n        this.edge.emit(this.boundsCheck());\r\n      }\r\n\r\n      this.moving = false;\r\n      this.endOffset.emit({\r\n        x: this.tempTrans.x + this.oldTrans.x,\r\n        y: this.tempTrans.y + this.oldTrans.y\r\n      });\r\n\r\n      if (this.trackPosition) {\r\n        this.oldTrans.add(this.tempTrans);\r\n      }\r\n\r\n      this.tempTrans.reset();\r\n\r\n      if (!this.trackPosition) {\r\n        this.transform();\r\n      }\r\n    }\r\n  }\r\n\r\n  checkHandleTarget(target: EventTarget, element: Element) {\r\n    // Checks if the target is the element clicked, then checks each child element of element as well\r\n    // Ignores button clicks\r\n\r\n    // Ignore elements of type button\r\n    if (element.tagName === 'BUTTON') {\r\n      return false;\r\n    }\r\n\r\n    // If the target was found, return true (handle was found)\r\n    if (element === target) {\r\n      return true;\r\n    }\r\n\r\n    // Recursively iterate this elements children\r\n    for (let child in element.children) {\r\n      if (element.children.hasOwnProperty(child)) {\r\n        if (this.checkHandleTarget(target, element.children[child])) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n\r\n    // Handle was not found in this lineage\r\n    // Note: return false is ignore unless it is the parent element\r\n    return false;\r\n  }\r\n\r\n  @HostListener('mousedown', ['$event'])\r\n  @HostListener('touchstart', ['$event'])\r\n  onMouseDown(event: MouseEvent | TouchEvent) {\r\n    // 1. skip right click;\r\n    if (event instanceof MouseEvent && event.button === 2) {\r\n      return;\r\n    }\r\n    // 2. if handle is set, the element can only be moved by handle\r\n    let target = event.target || event.srcElement;\r\n    if (this.handle !== undefined && !this.checkHandleTarget(target, this.handle)) {\r\n      return;\r\n    }\r\n\r\n    if (this.preventDefaultEvent) {\r\n      event.stopPropagation();\r\n      event.preventDefault();\r\n    }\r\n\r\n    this.orignal = Position.fromEvent(event);\r\n    this.pickUp();\r\n  }\r\n\r\n  @HostListener('document:mouseup')\r\n  @HostListener('document:mouseleave')\r\n  @HostListener('document:touchend')\r\n  @HostListener('document:touchcancel')\r\n  onMouseLeave() {\r\n    this.putBack();\r\n  }\r\n\r\n  @HostListener('document:mousemove', ['$event'])\r\n  @HostListener('document:touchmove', ['$event'])\r\n  onMouseMove(event: MouseEvent | TouchEvent) {\r\n    if (this.moving && this.allowDrag) {\r\n      if (this.preventDefaultEvent) {\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n      }\r\n\r\n      // Add a transparent helper div:\r\n      this._helperBlock.add();\r\n      this.moveTo(Position.fromEvent(event));\r\n    }\r\n  }\r\n}\r\n","import { Renderer2 } from '@angular/core';\r\n\r\nexport class ResizeHandle {\r\n  protected _handle: Element;\r\n  private _onResize;\r\n\r\n  constructor(\r\n    protected parent: Element,\r\n    protected renderer: Renderer2,\r\n    public type: string,\r\n    public css: string,\r\n    private onMouseDown: any\r\n  ) {\r\n    // generate handle div\r\n    let handle = renderer.createElement('div');\r\n    renderer.addClass(handle, 'ng-resizable-handle');\r\n    renderer.addClass(handle, css);\r\n\r\n    // add default diagonal for se handle\r\n    if (type === 'se') {\r\n      renderer.addClass(handle, 'ng-resizable-diagonal');\r\n    }\r\n\r\n    // append div to parent\r\n    if (this.parent) {\r\n      parent.appendChild(handle);\r\n    }\r\n\r\n    // create and register event listener\r\n    this._onResize = (event) => { onMouseDown(event, this); };\r\n    handle.addEventListener('mousedown', this._onResize);\r\n    handle.addEventListener('touchstart', this._onResize);\r\n\r\n    // done\r\n    this._handle = handle;\r\n  }\r\n\r\n  dispose() {\r\n    this._handle.removeEventListener('mousedown', this._onResize);\r\n    this._handle.removeEventListener('touchstart', this._onResize);\r\n\r\n    if (this.parent) {\r\n      this.parent.removeChild(this._handle);\r\n    }\r\n    this._handle = null;\r\n    this._onResize = null;\r\n  }\r\n\r\n  get el() {\r\n    return this._handle;\r\n  }\r\n}\r\n","export interface ISize {\r\n  width: number;\r\n  height: number;\r\n}\r\n\r\nexport class Size implements ISize {\r\n  constructor(public width: number, public height: number) { }\r\n\r\n  static getCurrent(el: Element) {\r\n    let size = new Size(0, 0);\r\n\r\n    if (window) {\r\n      const computed = window.getComputedStyle(el);\r\n      if (computed) {\r\n        size.width = parseInt(computed.getPropertyValue('width'), 10);\r\n        size.height = parseInt(computed.getPropertyValue('height'), 10);\r\n      }\r\n      return size;\r\n    } else {\r\n      console.error('Not Supported!');\r\n      return null;\r\n    }\r\n  }\r\n\r\n  static copy(s: Size) {\r\n    return new Size(0, 0).set(s);\r\n  }\r\n\r\n  set(s: ISize) {\r\n    this.width = s.width;\r\n    this.height = s.height;\r\n    return this;\r\n  }\r\n}\r\n","import {\r\n  Directive, ElementRef, Renderer2,\r\n  Input, Output, OnInit, HostListener,\r\n  EventEmitter, OnChanges, SimpleChanges,\r\n  OnDestroy, AfterViewInit\r\n} from '@angular/core';\r\n\r\nimport { HelperBlock } from './widgets/helper-block';\r\nimport { ResizeHandle } from './widgets/resize-handle';\r\nimport { ResizeHandleType } from './models/resize-handle-type';\r\nimport { Position, IPosition } from './models/position';\r\nimport { Size } from './models/size';\r\nimport { IResizeEvent } from './models/resize-event';\r\n\r\n@Directive({\r\n  selector: '[ngResizable]',\r\n  exportAs: 'ngResizable'\r\n})\r\nexport class AngularResizableDirective implements OnInit, OnChanges, OnDestroy, AfterViewInit {\r\n  private _resizable = true;\r\n  private _handles: { [key: string]: ResizeHandle } = {};\r\n  private _handleType: string[] = [];\r\n  private _handleResizing: ResizeHandle = null;\r\n  private _direction: { 'n': boolean, 's': boolean, 'w': boolean, 'e': boolean } = null;\r\n  private _aspectRatio = 0;\r\n  private _containment: HTMLElement = null;\r\n  private _origMousePos: Position = null;\r\n\r\n  /** Original Size and Position */\r\n  private _origSize: Size = null;\r\n  private _origPos: Position = null;\r\n\r\n  /** Current Size and Position */\r\n  private _currSize: Size = null;\r\n  private _currPos: Position = null;\r\n\r\n  /** Initial Size and Position */\r\n  private _initSize: Size = null;\r\n  private _initPos: Position = null;\r\n\r\n  /** Snap to gird */\r\n  private _gridSize: IPosition = null;\r\n\r\n  private _bounding: any = null;\r\n\r\n  /**\r\n   * Bugfix: iFrames, and context unrelated elements block all events, and are unusable\r\n   * https://github.com/xieziyu/angular2-draggable/issues/84\r\n   */\r\n  private _helperBlock: HelperBlock = null;\r\n\r\n  /** Disables the resizable if set to false. */\r\n  @Input() set ngResizable(v: any) {\r\n    if (v !== undefined && v !== null && v !== '') {\r\n      this._resizable = !!v;\r\n      this.updateResizable();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Which handles can be used for resizing.\r\n   * @example\r\n   * [rzHandles] = \"'n,e,s,w,se,ne,sw,nw'\"\r\n   * equals to: [rzHandles] = \"'all'\"\r\n   *\r\n   * */\r\n  @Input() rzHandles: ResizeHandleType = 'e,s,se';\r\n\r\n  /**\r\n   * Whether the element should be constrained to a specific aspect ratio.\r\n   *  Multiple types supported:\r\n   *  boolean: When set to true, the element will maintain its original aspect ratio.\r\n   *  number: Force the element to maintain a specific aspect ratio during resizing.\r\n   */\r\n  @Input() rzAspectRatio: boolean | number = false;\r\n\r\n  /**\r\n   * Constrains resizing to within the bounds of the specified element or region.\r\n   *  Multiple types supported:\r\n   *  Selector: The resizable element will be contained to the bounding box of the first element found by the selector.\r\n   *            If no element is found, no containment will be set.\r\n   *  Element: The resizable element will be contained to the bounding box of this element.\r\n   *  String: Possible values: \"parent\".\r\n   */\r\n  @Input() rzContainment: string | HTMLElement = null;\r\n\r\n  /**\r\n   * Snaps the resizing element to a grid, every x and y pixels.\r\n   * A number for both width and height or an array values like [ x, y ]\r\n   */\r\n  @Input() rzGrid: number | number[] = null;\r\n\r\n  /** The minimum width the resizable should be allowed to resize to. */\r\n  @Input() rzMinWidth: number = null;\r\n\r\n  /** The minimum height the resizable should be allowed to resize to. */\r\n  @Input() rzMinHeight: number = null;\r\n\r\n  /** The maximum width the resizable should be allowed to resize to. */\r\n  @Input() rzMaxWidth: number = null;\r\n\r\n  /** The maximum height the resizable should be allowed to resize to. */\r\n  @Input() rzMaxHeight: number = null;\r\n\r\n  /** emitted when start resizing */\r\n  @Output() rzStart = new EventEmitter<IResizeEvent>();\r\n\r\n  /** emitted when start resizing */\r\n  @Output() rzResizing = new EventEmitter<IResizeEvent>();\r\n\r\n  /** emitted when stop resizing */\r\n  @Output() rzStop = new EventEmitter<IResizeEvent>();\r\n\r\n  constructor(private el: ElementRef<HTMLElement>, private renderer: Renderer2) {\r\n    this._helperBlock = new HelperBlock(el.nativeElement, renderer);\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes['rzHandles'] && !changes['rzHandles'].isFirstChange()) {\r\n      this.updateResizable();\r\n    }\r\n\r\n    if (changes['rzAspectRatio'] && !changes['rzAspectRatio'].isFirstChange()) {\r\n      this.updateAspectRatio();\r\n    }\r\n\r\n    if (changes['rzContainment'] && !changes['rzContainment'].isFirstChange()) {\r\n      this.updateContainment();\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.updateResizable();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.removeHandles();\r\n    this._containment = null;\r\n    this._helperBlock.dispose();\r\n    this._helperBlock = null;\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    const elm = this.el.nativeElement;\r\n    this._initSize = Size.getCurrent(elm);\r\n    this._initPos = Position.getCurrent(elm);\r\n    this._currSize = Size.copy(this._initSize);\r\n    this._currPos = Position.copy(this._initPos);\r\n    this.updateAspectRatio();\r\n    this.updateContainment();\r\n  }\r\n\r\n  /** A method to reset size */\r\n  public resetSize() {\r\n    this._currSize = Size.copy(this._initSize);\r\n    this._currPos = Position.copy(this._initPos);\r\n    this.doResize();\r\n  }\r\n\r\n  /** A method to get current status */\r\n  public getStatus() {\r\n    if (!this._currPos || !this._currSize) {\r\n      return null;\r\n    }\r\n\r\n    return {\r\n      size: {\r\n        width: this._currSize.width,\r\n        height: this._currSize.height\r\n      },\r\n      position: {\r\n        top: this._currPos.y,\r\n        left: this._currPos.x\r\n      }\r\n    };\r\n  }\r\n\r\n  private updateResizable() {\r\n    const element = this.el.nativeElement;\r\n\r\n    // clear handles:\r\n    this.renderer.removeClass(element, 'ng-resizable');\r\n    this.removeHandles();\r\n\r\n    // create new ones:\r\n    if (this._resizable) {\r\n      this.renderer.addClass(element, 'ng-resizable');\r\n      this.createHandles();\r\n    }\r\n  }\r\n\r\n  /** Use it to update aspect */\r\n  private updateAspectRatio() {\r\n    if (typeof this.rzAspectRatio === 'boolean') {\r\n      if (this.rzAspectRatio && this._currSize.height) {\r\n        this._aspectRatio = (this._currSize.width / this._currSize.height);\r\n      } else {\r\n        this._aspectRatio = 0;\r\n      }\r\n    } else {\r\n      let r = Number(this.rzAspectRatio);\r\n      this._aspectRatio = isNaN(r) ? 0 : r;\r\n    }\r\n  }\r\n\r\n  /** Use it to update containment */\r\n  private updateContainment() {\r\n    if (!this.rzContainment) {\r\n      this._containment = null;\r\n      return;\r\n    }\r\n\r\n    if (typeof this.rzContainment === 'string') {\r\n      if (this.rzContainment === 'parent') {\r\n        this._containment = this.el.nativeElement.parentElement;\r\n      } else {\r\n        this._containment = document.querySelector<HTMLElement>(this.rzContainment);\r\n      }\r\n    } else {\r\n      this._containment = this.rzContainment;\r\n    }\r\n  }\r\n\r\n  /** Use it to create handle divs */\r\n  private createHandles() {\r\n    if (!this.rzHandles) {\r\n      return;\r\n    }\r\n\r\n    let tmpHandleTypes: string[];\r\n    if (typeof this.rzHandles === 'string') {\r\n      if (this.rzHandles === 'all') {\r\n        tmpHandleTypes = ['n', 'e', 's', 'w', 'ne', 'se', 'nw', 'sw'];\r\n      } else {\r\n        tmpHandleTypes = this.rzHandles.replace(/ /g, '').toLowerCase().split(',');\r\n      }\r\n\r\n      for (let type of tmpHandleTypes) {\r\n        // default handle theme: ng-resizable-$type.\r\n        let handle = this.createHandleByType(type, `ng-resizable-${type}`);\r\n        if (handle) {\r\n          this._handleType.push(type);\r\n          this._handles[type] = handle;\r\n        }\r\n      }\r\n    } else {\r\n      tmpHandleTypes = Object.keys(this.rzHandles);\r\n      for (let type of tmpHandleTypes) {\r\n        // custom handle theme.\r\n        let handle = this.createHandleByType(type, this.rzHandles[type]);\r\n        if (handle) {\r\n          this._handleType.push(type);\r\n          this._handles[type] = handle;\r\n        }\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  /** Use it to create a handle */\r\n  private createHandleByType(type: string, css: string): ResizeHandle {\r\n    const _el = this.el.nativeElement;\r\n\r\n    if (!type.match(/^(se|sw|ne|nw|n|e|s|w)$/)) {\r\n      console.error('Invalid handle type:', type);\r\n      return null;\r\n    }\r\n\r\n    return new ResizeHandle(_el, this.renderer, type, css, this.onMouseDown.bind(this));\r\n  }\r\n\r\n  private removeHandles() {\r\n    for (let type of this._handleType) {\r\n      this._handles[type].dispose();\r\n    }\r\n\r\n    this._handleType = [];\r\n    this._handles = {};\r\n  }\r\n\r\n  onMouseDown(event: MouseEvent | TouchEvent, handle: ResizeHandle) {\r\n    // skip right click;\r\n    if (event instanceof MouseEvent && event.button === 2) {\r\n      return;\r\n    }\r\n\r\n    // prevent default events\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n\r\n    if (!this._handleResizing) {\r\n      this._origMousePos = Position.fromEvent(event);\r\n      this.startResize(handle);\r\n    }\r\n  }\r\n\r\n  @HostListener('document:mouseup')\r\n  @HostListener('document:mouseleave')\r\n  @HostListener('document:touchend')\r\n  @HostListener('document:touchcancel')\r\n  onMouseLeave() {\r\n    if (this._handleResizing) {\r\n      this.stopResize();\r\n      this._origMousePos = null;\r\n    }\r\n  }\r\n\r\n  @HostListener('document:mousemove', ['$event'])\r\n  @HostListener('document:touchmove', ['$event'])\r\n  onMouseMove(event: MouseEvent | TouchEvent) {\r\n    if (this._handleResizing && this._resizable && this._origMousePos && this._origPos && this._origSize) {\r\n      this.resizeTo(Position.fromEvent(event));\r\n      this.onResizing();\r\n    }\r\n  }\r\n\r\n  private startResize(handle: ResizeHandle) {\r\n    const elm = this.el.nativeElement;\r\n    this._origSize = Size.getCurrent(elm);\r\n    this._origPos = Position.getCurrent(elm); // x: left, y: top\r\n    this._currSize = Size.copy(this._origSize);\r\n    this._currPos = Position.copy(this._origPos);\r\n    if (this._containment) {\r\n      this.getBounding();\r\n    }\r\n    this.getGridSize();\r\n\r\n    // Add a transparent helper div:\r\n    this._helperBlock.add();\r\n    this._handleResizing = handle;\r\n    this.updateDirection();\r\n    this.rzStart.emit(this.getResizingEvent());\r\n  }\r\n\r\n  private stopResize() {\r\n    // Remove the helper div:\r\n    this._helperBlock.remove();\r\n    this.rzStop.emit(this.getResizingEvent());\r\n    this._handleResizing = null;\r\n    this._direction = null;\r\n    this._origSize = null;\r\n    this._origPos = null;\r\n    if (this._containment) {\r\n      this.resetBounding();\r\n    }\r\n  }\r\n\r\n  private onResizing() {\r\n    this.rzResizing.emit(this.getResizingEvent());\r\n  }\r\n\r\n  private getResizingEvent(): IResizeEvent {\r\n    return {\r\n      host: this.el.nativeElement,\r\n      handle: this._handleResizing ? this._handleResizing.el : null,\r\n      size: {\r\n        width: this._currSize.width,\r\n        height: this._currSize.height\r\n      },\r\n      position: {\r\n        top: this._currPos.y,\r\n        left: this._currPos.x\r\n      }\r\n    };\r\n  }\r\n\r\n  private updateDirection() {\r\n    this._direction = {\r\n      n: !!this._handleResizing.type.match(/n/),\r\n      s: !!this._handleResizing.type.match(/s/),\r\n      w: !!this._handleResizing.type.match(/w/),\r\n      e: !!this._handleResizing.type.match(/e/)\r\n    };\r\n  }\r\n\r\n  private resizeTo(p: Position) {\r\n    p.subtract(this._origMousePos);\r\n\r\n    const tmpX = Math.round(p.x / this._gridSize.x) * this._gridSize.x;\r\n    const tmpY = Math.round(p.y / this._gridSize.y) * this._gridSize.y;\r\n\r\n    if (this._direction.n) {\r\n      // n, ne, nw\r\n      this._currPos.y = this._origPos.y + tmpY;\r\n      this._currSize.height = this._origSize.height - tmpY;\r\n    } else if (this._direction.s) {\r\n      // s, se, sw\r\n      this._currSize.height = this._origSize.height + tmpY;\r\n    }\r\n\r\n    if (this._direction.e) {\r\n      // e, ne, se\r\n      this._currSize.width = this._origSize.width + tmpX;\r\n    } else if (this._direction.w) {\r\n      // w, nw, sw\r\n      this._currSize.width = this._origSize.width - tmpX;\r\n      this._currPos.x = this._origPos.x + tmpX;\r\n    }\r\n\r\n    this.checkBounds();\r\n    this.checkSize();\r\n    this.adjustByRatio();\r\n    this.doResize();\r\n  }\r\n\r\n  private doResize() {\r\n    const container = this.el.nativeElement;\r\n    this.renderer.setStyle(container, 'height', this._currSize.height + 'px');\r\n    this.renderer.setStyle(container, 'width', this._currSize.width + 'px');\r\n    this.renderer.setStyle(container, 'left', this._currPos.x + 'px');\r\n    this.renderer.setStyle(container, 'top', this._currPos.y + 'px');\r\n  }\r\n\r\n  private adjustByRatio() {\r\n    if (this._aspectRatio) {\r\n      if (this._direction.e || this._direction.w) {\r\n        this._currSize.height = this._currSize.width / this._aspectRatio;\r\n      } else {\r\n        this._currSize.width = this._aspectRatio * this._currSize.height;\r\n      }\r\n    }\r\n  }\r\n\r\n  private checkBounds() {\r\n    if (this._containment) {\r\n      const maxWidth = this._bounding.width - this._bounding.pr - this.el.nativeElement.offsetLeft - this._bounding.translateX;\r\n      const maxHeight = this._bounding.height - this._bounding.pb - this.el.nativeElement.offsetTop - this._bounding.translateY;\r\n\r\n      if (this._direction.n && (this._currPos.y + this._bounding.translateY) < 0) {\r\n        this._currPos.y = -this._bounding.translateY;\r\n        this._currSize.height = this._origSize.height + this._origPos.y + this._bounding.translateY;\r\n      }\r\n\r\n      if (this._direction.w && (this._currPos.x + this._bounding.translateX) < 0) {\r\n        this._currPos.x = -this._bounding.translateX;\r\n        this._currSize.width = this._origSize.width + this._origPos.x + this._bounding.translateX;\r\n      }\r\n\r\n      if (this._currSize.width > maxWidth) {\r\n        this._currSize.width = maxWidth;\r\n      }\r\n\r\n      if (this._currSize.height > maxHeight) {\r\n        this._currSize.height = maxHeight;\r\n      }\r\n    }\r\n  }\r\n\r\n  private checkSize() {\r\n    const minHeight = !this.rzMinHeight ? 1 : this.rzMinHeight;\r\n    const minWidth = !this.rzMinWidth ? 1 : this.rzMinWidth;\r\n\r\n    if (this._currSize.height < minHeight) {\r\n      this._currSize.height = minHeight;\r\n\r\n      if (this._direction.n) {\r\n        this._currPos.y = this._origPos.y + (this._origSize.height - minHeight);\r\n      }\r\n    }\r\n\r\n    if (this._currSize.width < minWidth) {\r\n      this._currSize.width = minWidth;\r\n\r\n      if (this._direction.w) {\r\n        this._currPos.x = this._origPos.x + (this._origSize.width - minWidth);\r\n      }\r\n    }\r\n\r\n    if (this.rzMaxHeight && this._currSize.height > this.rzMaxHeight) {\r\n      this._currSize.height = this.rzMaxHeight;\r\n\r\n      if (this._direction.n) {\r\n        this._currPos.y = this._origPos.y + (this._origSize.height - this.rzMaxHeight);\r\n      }\r\n    }\r\n\r\n    if (this.rzMaxWidth && this._currSize.width > this.rzMaxWidth) {\r\n      this._currSize.width = this.rzMaxWidth;\r\n\r\n      if (this._direction.w) {\r\n        this._currPos.x = this._origPos.x + (this._origSize.width - this.rzMaxWidth);\r\n      }\r\n    }\r\n  }\r\n\r\n  private getBounding() {\r\n    const el = this._containment;\r\n    const computed = window.getComputedStyle(el);\r\n    if (computed) {\r\n      let p = computed.getPropertyValue('position');\r\n\r\n      const nativeEl = window.getComputedStyle(this.el.nativeElement);\r\n      let transforms = nativeEl.getPropertyValue('transform').replace(/[^-\\d,]/g, '').split(',');\r\n\r\n      this._bounding = {};\r\n      this._bounding.width = el.clientWidth;\r\n      this._bounding.height = el.clientHeight;\r\n      this._bounding.pr = parseInt(computed.getPropertyValue('padding-right'), 10);\r\n      this._bounding.pb = parseInt(computed.getPropertyValue('padding-bottom'), 10);\r\n\r\n      if (transforms.length >= 6) {\r\n        this._bounding.translateX = parseInt(transforms[4], 10);\r\n        this._bounding.translateY = parseInt(transforms[5], 10);\r\n      } else {\r\n        this._bounding.translateX = 0;\r\n        this._bounding.translateY = 0;\r\n      }\r\n\r\n      this._bounding.position = computed.getPropertyValue('position');\r\n\r\n      if (p === 'static') {\r\n        this.renderer.setStyle(el, 'position', 'relative');\r\n      }\r\n    }\r\n  }\r\n\r\n  private resetBounding() {\r\n    if (this._bounding && this._bounding.position === 'static') {\r\n      this.renderer.setStyle(this._containment, 'position', 'relative');\r\n    }\r\n    this._bounding = null;\r\n  }\r\n\r\n  private getGridSize() {\r\n    // set default value:\r\n    this._gridSize = { x: 1, y: 1 };\r\n\r\n    if (this.rzGrid) {\r\n      if (typeof this.rzGrid === 'number') {\r\n        this._gridSize = { x: this.rzGrid, y: this.rzGrid };\r\n      } else if (Array.isArray(this.rzGrid)) {\r\n        this._gridSize = { x: this.rzGrid[0], y: this.rzGrid[1] };\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { AngularDraggableDirective } from './angular-draggable.directive';\nimport { AngularResizableDirective } from './angular-resizable.directive';\n\n@NgModule({\n  imports: [\n  ],\n  declarations: [\n    AngularDraggableDirective,\n    AngularResizableDirective\n  ],\n  exports: [\n    AngularDraggableDirective,\n    AngularResizableDirective\n  ]\n})\nexport class AngularDraggableModule { }\n"],"names":["tslib_1.__values"],"mappings":"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"}
